# Newsdedup Configuration
# News deduplication for Miniflux RSS reader
#
# Usage:
#   - Single run: uv run newsdedup
#   - Daemon mode: uv run newsdedup --daemon
#   - Debug mode:  uv run newsdedup --debug
#   - Dry run:     uv run newsdedup --dry-run
#
# For systemd setup:
#   1. Copy newsdedup.service.default to ~/.config/systemd/user/newsdedup.service
#   2. Edit the service file to point to this config location
#   3. Run: systemctl --user enable newsdedup.service
#   4. Run: systemctl --user start newsdedup.service
#   5. Watch logs: journalctl -f --user-unit newsdedup

[miniflux]
# Miniflux server URL (e.g., https://miniflux.example.com)
hostname = "https://miniflux.example.com"

# API token (generate from Miniflux settings > API Tokens)
api_token = "your-api-token-here"

[newsdedup]
# Maximum number of articles to learn from PER FEED
# For each feed, learn up to this many read articles (not total)
# Example: 50 articles per feed Ã— 100 feeds = 5000 total learned articles
maxcount = 50

# Similarity threshold for duplicate detection (0-100)
# Articles with similarity >= this value are marked as duplicates
ratio = 80

# Similarity calculation method
# Options: "token_sort", "token_set", "jaccard", or "combined"
# "combined" uses all methods and takes the highest score
similarity_method = "combined"

# Check URLs for exact duplicates (before title similarity)
check_urls = true

# Sleep time between checks (in seconds)
# Only used when running in daemon mode (--daemon flag)
sleep = 60

# Retry interval for failed feeds (in iterations)
# Force re-learning every N iterations to retry feeds that previously timed out
# Set to a higher value for slower connections or larger feed lists
learning_retry_interval = 10

# Feed IDs to ignore (comma-separated)
# Articles from these feeds will be skipped
ignore = ""

# Feed IDs to not star (comma-separated)
# Articles from these feeds will only be marked read, not starred
nostar = ""

[feeds]
# Feed IDs that should only compare against articles from the same feed
# Use this for feeds that have similar content but shouldn't be deduped cross-feed
# Example: internal_only = [123, 456]
internal_only = []

# Feed IDs that should deduplicate within themselves
# Articles from these feeds are checked for duplicates within the same feed,
# preventing the same article from appearing twice in that feed.
# These articles WILL still participate in cross-feed deduplication.
# Use this when a feed publishes the same article multiple times.
# Example: self_dedup = [789]
self_dedup = []
